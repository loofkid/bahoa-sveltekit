import{S as ne,i as ie,s as ce,a as V,k as g,q as D,w as R,ad as ue,h as m,c as P,l as b,m as w,r as S,x as Y,n as d,b as F,G as l,af as K,y as M,M as T,ag as de,f as O,t as W,z as H,D as le,P as Q,u as fe,W as se,B as oe}from"../../../../chunks/index-b7e5ee0b.js";import{m as X,I as me,D as pe,b as re}from"../../../../chunks/browser-925b8dac.js";import{g as he}from"../../../../chunks/navigation-08b8979a.js";import{s as _e,j as ge,k as be,F as ve}from"../../../../chunks/index-e5b3cc81-00185210.js";import"../../../../chunks/index.esm-d888ca54.js";import{A as we}from"../../../../chunks/AnimatePresence-f39eb960.js";function $e(n){let s,e,t,c,_;return e=new me({props:{data:pe,scale:.75}}),{c(){s=g("div"),R(e.$$.fragment)},l(r){s=b(r,"DIV",{});var o=w(s);Y(e.$$.fragment,o),o.forEach(m)},m(r,o){F(r,s,o),M(e,s,null),t=!0,c||(_=Q(n[19].call(null,s)),c=!0)},p:oe,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){r&&m(s),H(e),c=!1,_()}}}function ke(n){let s,e,t,c,_,r,o,A,u,f,y,$,E,z,v,I,L,i;return{c(){s=g("div"),e=g("ul"),t=g("li"),c=D("At least 8 characters"),_=V(),r=g("li"),o=D("At least 1 uppercase letter"),A=V(),u=g("li"),f=D("At least 1 lowercase letter"),y=V(),$=g("li"),E=D("At least 1 number"),z=V(),v=g("li"),I=D("At least 1 special character"),this.h()},l(p){s=b(p,"DIV",{class:!0});var k=w(s);e=b(k,"UL",{});var a=w(e);t=b(a,"LI",{});var x=w(t);c=S(x,"At least 8 characters"),x.forEach(m),_=P(a),r=b(a,"LI",{});var C=w(r);o=S(C,"At least 1 uppercase letter"),C.forEach(m),A=P(a),u=b(a,"LI",{});var B=w(u);f=S(B,"At least 1 lowercase letter"),B.forEach(m),y=P(a),$=b(a,"LI",{});var q=w($);E=S(q,"At least 1 number"),q.forEach(m),z=P(a),v=b(a,"LI",{});var h=w(v);I=S(h,"At least 1 special character"),h.forEach(m),a.forEach(m),k.forEach(m),this.h()},h(){d(s,"class","text-xs text-zinc-800 dark:text-zinc-300 w-36 overflow-x-visible text-left whitespace-nowrap")},m(p,k){F(p,s,k),l(s,e),l(e,t),l(t,c),l(e,_),l(e,r),l(r,o),l(e,A),l(e,u),l(u,f),l(e,y),l(e,$),l($,E),l(e,z),l(e,v),l(v,I),L||(i=Q(n[19].call(null,s)),L=!0)},p:oe,d(p){p&&m(s),L=!1,i()}}}function ye(n){let s,e;return s=new X({props:{animate:{opacity:n[5]?1:0,translateY:n[5]?0:-25,height:n[5]?re("5rem"):0},initial:{opacity:0,translateY:-25,height:0},exit:{opacity:0,translateY:-25,height:0},transition:{easings:["easeIn","easeIn"]},$$slots:{default:[ke,({motion:t})=>({19:t}),({motion:t})=>t?524288:0]},$$scope:{ctx:n}}}),{c(){R(s.$$.fragment)},l(t){Y(s.$$.fragment,t)},m(t,c){M(s,t,c),e=!0},p(t,c){const _={};c&32&&(_.animate={opacity:t[5]?1:0,translateY:t[5]?0:-25,height:t[5]?re("5rem"):0}),c&1048576&&(_.$$scope={dirty:c,ctx:t}),s.$set(_)},i(t){e||(O(s.$$.fragment,t),e=!0)},o(t){W(s.$$.fragment,t),e=!1},d(t){H(s,t)}}}function ze(n){let s,e,t,c,_=n[5]?"hide":"show",r,o,A,u,f,y,$,E,z,v,I,L;return u=new X({props:{animate:{rotate:n[5]?180:0},initial:{rotate:0},transition:{easings:["easeIn"]},$$slots:{default:[$e,({motion:i})=>({19:i}),({motion:i})=>i?524288:0]},$$scope:{ctx:n}}}),y=new we({props:{show:n[5],exitBeforeEnter:!0,$$slots:{default:[ye]},$$scope:{ctx:n}}}),{c(){s=g("div"),e=g("button"),t=g("div"),c=g("span"),r=D(_),o=D(" password rules"),A=V(),R(u.$$.fragment),f=V(),R(y.$$.fragment),$=V(),E=g("a"),z=D("forgot password?"),this.h()},l(i){s=b(i,"DIV",{class:!0});var p=w(s);e=b(p,"BUTTON",{type:!0,class:!0});var k=w(e);t=b(k,"DIV",{class:!0});var a=w(t);c=b(a,"SPAN",{class:!0});var x=w(c);r=S(x,_),o=S(x," password rules"),x.forEach(m),A=P(a),Y(u.$$.fragment,a),a.forEach(m),f=P(k),Y(y.$$.fragment,k),k.forEach(m),$=P(p),E=b(p,"A",{href:!0});var C=w(E);z=S(C,"forgot password?"),C.forEach(m),p.forEach(m),this.h()},h(){d(c,"class","w-36 text-left"),d(t,"class","flex justify-between items-center"),d(e,"type","button"),d(e,"class",""),d(E,"href","auth/forgot-password"),d(s,"class","flex justify-between text-sm text-zinc-800 dark:text-zinc-300 ml-1")},m(i,p){F(i,s,p),l(s,e),l(e,t),l(t,c),l(c,r),l(c,o),l(t,A),M(u,t,null),l(e,f),M(y,e,null),l(s,$),l(s,E),l(E,z),v=!0,I||(L=[T(e,"click",n[16]),Q(n[18].call(null,s))],I=!0)},p(i,p){(!v||p&32)&&_!==(_=i[5]?"hide":"show")&&fe(r,_);const k={};p&32&&(k.animate={rotate:i[5]?180:0}),p&1048576&&(k.$$scope={dirty:p,ctx:i}),u.$set(k);const a={};p&32&&(a.show=i[5]),p&1048608&&(a.$$scope={dirty:p,ctx:i}),y.$set(a)},i(i){v||(O(u.$$.fragment,i),O(y.$$.fragment,i),v=!0)},o(i){W(u.$$.fragment,i),W(y.$$.fragment,i),v=!1},d(i){i&&m(s),H(u),H(y),I=!1,le(L)}}}function Ie(n){let s,e,t,c,_,r,o,A,u,f,y,$,E,z,v,I,L,i,p,k,a,x,C,B,q;return $=new X({props:{$$slots:{default:[ze,({motion:h})=>({18:h}),({motion:h})=>h?262144:0]},$$scope:{ctx:n}}}),{c(){s=V(),e=g("div"),t=g("h1"),c=D("Log In"),_=V(),r=g("form"),o=g("input"),A=V(),u=g("div"),f=g("input"),y=V(),R($.$$.fragment),E=V(),z=g("div"),v=g("label"),I=g("input"),L=V(),i=g("span"),p=D("Remember me"),k=V(),a=g("button"),x=D("Submit"),this.h()},l(h){ue("svelte-txftx7",document.head).forEach(m),s=P(h),e=b(h,"DIV",{class:!0});var U=w(e);t=b(U,"H1",{class:!0});var ee=w(t);c=S(ee,"Log In"),ee.forEach(m),_=P(U),r=b(U,"FORM",{class:!0});var j=w(r);o=b(j,"INPUT",{type:!0,class:!0,placeholder:!0,inputmode:!0,autocorrect:!0,autocomplete:!0}),A=P(j),u=b(j,"DIV",{class:!0});var Z=w(u);f=b(Z,"INPUT",{type:!0,class:!0,placeholder:!0,pattern:!0,autocorrect:!0,autocomplete:!0}),y=P(Z),Y($.$$.fragment,Z),Z.forEach(m),E=P(j),z=b(j,"DIV",{class:!0});var G=w(z);v=b(G,"LABEL",{class:!0});var J=w(v);I=b(J,"INPUT",{type:!0,class:!0}),L=P(J),i=b(J,"SPAN",{class:!0});var te=w(i);p=S(te,"Remember me"),te.forEach(m),J.forEach(m),k=P(G),a=b(G,"BUTTON",{type:!0,class:!0});var ae=w(a);x=S(ae,"Submit"),ae.forEach(m),G.forEach(m),j.forEach(m),U.forEach(m),this.h()},h(){document.title="Log In | Bà Hỏa Smart Smokers",d(t,"class","text-2xl text-zinc-800 dark:text-zinc-200"),d(o,"type","email"),d(o,"class","bg-zinc-200 dark:bg-zinc-500 form-input placeholder-shown:dark:!border-zinc-300 placeholder-shown:!border-zinc-900 focus:ring-0 text-zinc-800 focus:!border-orange-500 dark:placeholder:text-zinc-200 dark:border-zinc-300 rounded-sm h-11 focus:dark:text-white focus:text-black dark:text-zinc-300 focus:dark:!border-zinc-50 focus:outline-none invalid:border-red-600 invalid:dark:border-red-800"),d(o,"placeholder","email"),o.required=!0,d(o,"inputmode","email"),d(o,"autocorrect","off"),d(o,"autocomplete","email"),d(f,"type","password"),d(f,"class","bg-zinc-200 dark:bg-zinc-500 form-input placeholder-shown:dark:!border-zinc-300 placeholder-shown:!border-zinc-900 focus:ring-0 text-zinc-800 focus:!border-orange-500 dark:placeholder:text-zinc-200 dark:border-zinc-300 rounded-sm h-11 focus:dark:text-white focus:text-black dark:text-zinc-300 focus:dark:!border-zinc-50 focus:outline-none invalid:border-red-600 invalid:dark:border-red-800"),d(f,"placeholder","password"),d(f,"pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^a-zA-Z0-9]).*$"),f.required=!0,d(f,"autocorrect","off"),d(f,"autocomplete","current-password"),d(u,"class","grid items-center"),d(I,"type","checkbox"),d(I,"class","form-checkbox"),d(i,"class","ml-2 text-sm text-zinc-800 dark:text-zinc-300"),d(v,"class","flex items-center"),d(a,"type","submit"),d(a,"class","h-11 w-28 rounded-sm bg-orange-500 text-white"),d(z,"class","flex justify-between items-center"),d(r,"class","grid grid-cols-1 [grid-template-rows:_3.5rem_auto_3.5rem] lg:[grid-template-rows:_1fr_auto_1fr] lg:border-2 lg:border-orange-500 w-full lg:w-[30rem] lg:rounded-xl lg:p-8 gap-1 lg:gap-4 items-center"),d(e,"class","grid grid-cols-1 [grid-template-rows:_3rem_auto] items-start lg:justify-items-center my-4 px-2 lg:p-0")},m(h,N){F(h,s,N),F(h,e,N),l(e,t),l(t,c),l(e,_),l(e,r),l(r,o),K(o,n[0]),n[11](o),l(r,A),l(r,u),l(u,f),K(f,n[1]),n[15](f),l(u,y),M($,u,null),l(r,E),l(r,z),l(z,v),l(v,I),I.checked=n[2],l(v,L),l(v,i),l(i,p),l(z,k),l(z,a),l(a,x),C=!0,B||(q=[T(o,"blur",n[8]),T(o,"invalid",n[9]),T(o,"input",n[10]),T(f,"blur",n[12]),T(f,"invalid",n[13]),T(f,"input",n[14]),T(I,"change",n[17]),T(r,"submit",de(n[6]))],B=!0)},p(h,[N]){N&1&&o.value!==h[0]&&K(o,h[0]),N&2&&f.value!==h[1]&&K(f,h[1]);const U={};N&1048608&&(U.$$scope={dirty:N,ctx:h}),$.$set(U),N&4&&(I.checked=h[2])},i(h){C||(O($.$$.fragment,h),C=!0)},o(h){W($.$$.fragment,h),C=!1},d(h){h&&m(s),h&&m(e),n[11](null),n[15](null),H($),B=!1,le(q)}}}function Ee(n,s,e){let t,c,_=!1,r,o,A=!1,{data:u}=s;const f=async()=>{r.setCustomValidity(""),o.setCustomValidity("");try{r.checkValidity()&&o.checkValidity()?(await _e(u.firebaseAuth,t,c),_?u.firebaseAuth.setPersistence(ge):u.firebaseAuth.setPersistence(be),he(u.redirect??"/smokers",{invalidateAll:!0})):(r.checkValidity()||r.setCustomValidity("Invalid email"),o.checkValidity()||o.setCustomValidity("Invalid password"),r.reportValidity(),o.reportValidity())}catch(a){a instanceof ve&&(a.code==="auth/invalid-email"?r.setCustomValidity("Invalid email"):a.code==="auth/user-not-found"?r.setCustomValidity("User not found"):a.code==="auth/wrong-password"&&o.setCustomValidity("Wrong password")),console.log(a),r.reportValidity(),o.reportValidity()}},y=()=>r.checkValidity(),$=a=>console.log(a);function E(){t=this.value,e(0,t)}function z(a){se[a?"unshift":"push"](()=>{r=a,e(3,r)})}const v=()=>o.checkValidity(),I=a=>console.log(a);function L(){c=this.value,e(1,c)}function i(a){se[a?"unshift":"push"](()=>{o=a,e(4,o)})}const p=()=>e(5,A=!A);function k(){_=this.checked,e(2,_)}return n.$$set=a=>{"data"in a&&e(7,u=a.data)},[t,c,_,r,o,A,f,u,y,$,E,z,v,I,L,i,p,k]}class xe extends ne{constructor(s){super(),ie(this,s,Ee,Ie,ce,{data:7})}}export{xe as default};
