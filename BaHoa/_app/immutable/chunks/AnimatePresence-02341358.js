import{S as F,i as H,s as J,F as N,H as T,I as G,J as Q,f as B,t as M,j as $,a3 as ee,A as te,e as S,b as V,g as ne,a8 as se,d as ie,h as W,a2 as oe,K as fe,ae as re,w as le,x as ue,y as ce,z as ae,a9 as me}from"./index-c6b69142.js";import{B as O,u as de,S as R,C as _e}from"./browser-315189d6.js";function he(o){let e;const n=o[8].default,t=N(n,o,o[7],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,f){t&&t.m(s,f),e=!0},p(s,[f]){t&&t.p&&(!e||f&128)&&T(t,n,s,s[7],e?Q(n,s[7],f,null):G(s[7]),null)},i(s){e||(B(t,s),e=!0)},o(s){M(t,s),e=!1},d(s){t&&t.d(s)}}}let U=0;function Ce(){const o=U;return U++,o}function ye(){return new Map}function ge(o,e,n){let t,{$$slots:s={},$$scope:f}=e,{isPresent:c,onExitComplete:i=void 0,initial:r,custom:m=void 0,presenceAffectsLayout:E,isCustom:h}=e;const d=new ye,x=Ce(),k=()=>({id:x,initial:r,isPresent:c,custom:m,onExitComplete:u=>{d.set(u,!0);let g=!0;d.forEach(_=>{_||(g=!1)}),g&&(i==null||i())},register:u=>(d.set(u,!1),()=>d.delete(u))});let C=O();$(()=>{E&&C.set(k())});const y=()=>{d.forEach((u,g)=>d.set(g,!1))};return ee(O,C),de("Presence",h,C),o.$$set=u=>{"isPresent"in u&&n(0,c=u.isPresent),"onExitComplete"in u&&n(1,i=u.onExitComplete),"initial"in u&&n(2,r=u.initial),"custom"in u&&n(3,m=u.custom),"presenceAffectsLayout"in u&&n(4,E=u.presenceAffectsLayout),"isCustom"in u&&n(5,h=u.isCustom),"$$scope"in u&&n(7,f=u.$$scope)},o.$$.update=()=>{o.$$.dirty&17&&n(6,t=E?void 0:c),o.$$.dirty&64&&C.set(k()),o.$$.dirty&1&&y(),o.$$.dirty&3&&te().then(()=>{!c&&!d.size&&(i==null||i())})},[c,i,r,m,E,h,t,f,s]}class Ee extends F{constructor(e){super(),H(this,e,ge,he,J,{isPresent:0,onExitComplete:1,initial:2,custom:3,presenceAffectsLayout:4,isCustom:5})}}const ke=Ee,{Map:pe}=re;function j(o,e,n){const t=o.slice();return t[22]=e[n],t}const Ae=o=>({item:o&16}),q=o=>({item:o[22].item});function Pe(o){let e;const n=o[17].default,t=N(n,o,o[18],q);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,f){t&&t.m(s,f),e=!0},p(s,f){t&&t.p&&(!e||f&262160)&&T(t,n,s,s[18],e?Q(n,s[18],f,Ae):G(s[18]),q)},i(s){e||(B(t,s),e=!0)},o(s){M(t,s),e=!1},d(s){t&&t.d(s)}}}function D(o,e){let n,t,s;return t=new ke({props:{isPresent:e[22].present,initial:e[1]?void 0:!1,custom:e[22].onExit?e[0]:void 0,presenceAffectsLayout:e[2],onExitComplete:e[22].onExit,isCustom:e[3],$$slots:{default:[Pe]},$$scope:{ctx:e}}}),{key:o,first:null,c(){n=S(),le(t.$$.fragment),this.h()},l(f){n=S(),ue(t.$$.fragment,f),this.h()},h(){this.first=n},m(f,c){V(f,n,c),ce(t,f,c),s=!0},p(f,c){e=f;const i={};c&16&&(i.isPresent=e[22].present),c&2&&(i.initial=e[1]?void 0:!1),c&17&&(i.custom=e[22].onExit?e[0]:void 0),c&4&&(i.presenceAffectsLayout=e[2]),c&16&&(i.onExitComplete=e[22].onExit),c&8&&(i.isCustom=e[3]),c&262160&&(i.$$scope={dirty:c,ctx:e}),t.$set(i)},i(f){s||(B(t.$$.fragment,f),s=!0)},o(f){M(t.$$.fragment,f),s=!1},d(f){f&&W(n),ae(t,f)}}}function Le(o){let e=[],n=new pe,t,s,f=o[4];const c=i=>w(i[22]);for(let i=0;i<f.length;i+=1){let r=j(o,f,i),m=c(r);n.set(m,e[i]=D(m,r))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=S()},l(i){for(let r=0;r<e.length;r+=1)e[r].l(i);t=S()},m(i,r){for(let m=0;m<e.length;m+=1)e[m].m(i,r);V(i,t,r),s=!0},p(i,[r]){r&262175&&(f=i[4],ne(),e=se(e,r,c,1,i,f,n,t.parentNode,me,D,t,j),ie())},i(i){if(!s){for(let r=0;r<f.length;r+=1)B(e[r]);s=!0}},o(i){for(let r=0;r<e.length;r+=1)M(e[r]);s=!1},d(i){for(let r=0;r<e.length;r+=1)e[r].d(i);i&&W(t)}}}function w(o){return o.key||""}function we(o,e,n){let t,s,f,{$$slots:c={},$$scope:i}=e,{list:r=void 0,custom:m=void 0,initial:E=!0,onExitComplete:h=void 0,exitBeforeEnter:d=void 0,presenceAffectsLayout:x=!0,show:k=void 0,isCustom:C=!1}=e,y=r!==void 0?r:k?[{key:1}]:[];const u=oe(R)||R(C);fe(o,u,l=>n(16,f=l));let g=!0,_=y,A=_,z=new Map,P=new Set;const X=(l,b)=>{l.forEach(I=>{const a=w(I);b.set(a,I)})};let L=[..._.map(l=>({present:!0,item:l,key:l.key}))];return o.$$set=l=>{"list"in l&&n(6,r=l.list),"custom"in l&&n(0,m=l.custom),"initial"in l&&n(1,E=l.initial),"onExitComplete"in l&&n(7,h=l.onExitComplete),"exitBeforeEnter"in l&&n(8,d=l.exitBeforeEnter),"presenceAffectsLayout"in l&&n(2,x=l.presenceAffectsLayout),"show"in l&&n(9,k=l.show),"isCustom"in l&&n(3,C=l.isCustom),"$$scope"in l&&n(18,i=l.$$scope)},o.$$.update=()=>{if(o.$$.dirty&576&&n(10,y=r!==void 0?r:k?[{key:1}]:[]),o.$$.dirty&65536&&n(15,t=_e(f)),o.$$.dirty&99328&&n(14,s=()=>{t&&f.forceUpdate(),n(10,y=[...y])}),o.$$.dirty&1024&&n(12,_=y),o.$$.dirty&4096&&X(_,z),o.$$.dirty&31120)if(g)n(11,g=!1);else{n(4,L=[..._.map(a=>({present:!0,item:a,key:a.key}))]);const l=A.map(w),b=_.map(w),I=l.length;for(let a=0;a<I;a++){const p=l[a];b.indexOf(p)===-1?P.add(p):P.delete(p)}d&&P.size&&n(4,L=[]),P.forEach(a=>{if(b.indexOf(a)!==-1)return;const p=z.get(a);if(!p)return;const Y=l.indexOf(a),Z=()=>{z.delete(a),P.delete(a);const K=A.findIndex(v=>v.key===a);K<0||(A.splice(K,1),P.size||(n(13,A=[..._]),s(),h&&h()))};L.splice(Y,0,{present:!1,item:p,key:w(p),onExit:Z})}),n(13,A=L)}},[m,E,x,C,L,u,r,h,d,k,y,g,_,A,s,t,f,c,i]}class xe extends F{constructor(e){super(),H(this,e,we,Le,J,{list:6,custom:0,initial:1,onExitComplete:7,exitBeforeEnter:8,presenceAffectsLayout:2,show:9,isCustom:3})}}const Se=xe;export{Se as A};
